import{r as s,u as v,a as k,j as e,b as y,F as N,B as w,_ as A}from"./index-8cf87543.js";import{B as P}from"./Breadcrumb-9ee5e05d.js";import{P as E}from"./Pagination-0e4a8747.js";const _=()=>{const[c,g]=s.useState([]),[h,n]=s.useState(!1),[d,f]=s.useState(1),[l]=s.useState(6),{user:i}=v(),u=k();if(s.useEffect(()=>{(async()=>{try{n(!0);const a=(await w()).filter(r=>r.isAdActive);g(a),n(!1)}catch{n(!1),A.error("Failed to fetch advertisements:")}})()},[]),h)return e.jsx(y,{});const x=d*l,j=x-l,p=c.slice(j,x),m=Math.ceil(c.length/l),b=t=>{f(t)};return e.jsxs(e.Fragment,{children:[e.jsx(P,{pageName:"View Advertisements"}),e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(t=>e.jsxs("div",{className:"bg-white rounded-3xl shadow-lg overflow-hidden transition-transform transform hover:scale-110 dark:shadow-5xl flex flex-col",children:[t.imageUrl?e.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-48 object-cover",onError:o=>{const a=o.currentTarget,r=a.nextElementSibling;r&&(a.style.display="none",r.style.display="flex")}}):null,e.jsxs("div",{className:"w-full h-48 flex items-center gap-2 justify-center bg-gray-200",style:{display:t.imageUrl?"none":"flex"},children:[e.jsx(N,{className:"text-gray-400 text-4xl dark:text-black"}),e.jsx("h5",{className:"text-gray-400 text-center text-sm dark:text-black",children:"Image not fetched"})]}),e.jsxs("div",{className:"p-4 dark:bg-boxdark flex-grow",children:[e.jsx("h3",{className:"text-lg font-bold mb-2 dark:text-white",children:e.jsx("b",{children:t.title})}),e.jsx("p",{className:"text-gray-700 mb-3 text-sm dark:text-white",children:t.description})]}),e.jsx("div",{className:"p-4 dark:bg-boxdark mt-auto",children:(i==null?void 0:i.role)==="HR_Admin"?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-boxdark text-sm hover:underline dark:text-white",children:"Learn More"}),e.jsx("button",{onClick:()=>u("/core-features/updateadverts",{state:{ad:t}}),className:"hover:bg-gray text-primary font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Modify"})]}):e.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"text-primary text-sm hover:underline dark:text-white",children:"Learn More"})})]},t.id))}),m>1&&e.jsx(E,{currentPage:d,totalPages:m,onPageChange:b})]})]})};export{_ as default};
