import{r as a,u as c,e as x,n as y,j as e,b as p}from"./index-8cf87543.js";import{B as h}from"./Breadcrumb-9ee5e05d.js";const b=()=>{const[l,o]=a.useState(null),[n,d]=a.useState(!0),{user:r}=c();console.log("user",r==null?void 0:r.employeeObj.employeeId),a.useEffect(()=>{r!=null&&r.employeeObj.employeeId&&m(r==null?void 0:r.employeeObj.employeeId)},[r]);const m=async t=>{d(!0);try{const s=await x(t);o(s)}catch(s){y.error("Error fetching employment history"),console.error("Error fetching employment history:",s)}finally{d(!1)}};return n?e.jsx(p,{}):l?e.jsxs(e.Fragment,{children:[e.jsx(h,{pageName:"View Employment History"}),e.jsx("div",{className:"container mx-auto py-8",children:e.jsx("div",{className:"rounded-lg shadow-md px-8 bg-white dark:bg-boxdark p-4",children:e.jsxs("div",{className:"bg-gradient-to-r from-primary to-secondary dark:from-primary dark:to-secondary rounded-lg p-6 mb-4 border border-stroke dark:border-strokedark shadow-md",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"My Employment History"}),e.jsx("ul",{className:"space-y-4 mt-4",children:l.employmentHistories.map(t=>e.jsxs("li",{className:"bg-white dark:bg-boxdark rounded-lg p-4 border border-stroke dark:border-strokedark shadow-sm",children:[e.jsxs("p",{className:"text-gray-800 text-sm dark:text-gray-300 my-1.5",children:[e.jsx("b",{children:"Date Employed:"})," ",new Date(t.dateEmployed).toLocaleDateString()]}),e.jsx("hr",{}),e.jsxs("p",{className:"text-gray-800 text-sm dark:text-gray-300 my-1.5",children:[e.jsx("b",{children:"Date Relieved:"})," ",t.dateRelieved?new Date(t.dateRelieved).toLocaleDateString():"N/A"]}),e.jsx("hr",{}),e.jsxs("p",{className:"text-gray-800 text-sm dark:text-gray-300 my-1.5",children:[e.jsx("b",{children:"Duration:"})," ",t.duration]}),e.jsx("hr",{}),e.jsxs("p",{className:"text-gray-800 text-sm dark:text-gray-300 my-1.5",children:[e.jsx("b",{children:"Employment Status:"}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-sm ${t.currentlyEmployed?"text-success dark:text-gray":"text-danger dark:text-danger"}`,children:e.jsx("b",{children:t.currentlyEmployed?"Currently Employed":"Not Employed"})})]}),e.jsx("hr",{}),e.jsxs("p",{className:"text-gray-800 text-sm dark:text-gray-300 my-1.5",children:[e.jsx("b",{children:"Description:"})," ",t.description]}),e.jsx("hr",{}),e.jsxs("div",{className:"mt-1",children:[e.jsx("b",{className:"text-gray-800 text-sm dark:text-gray-300",children:"Positions Held:"}),e.jsx("ul",{className:"list-disc pl-5 mt-2 text-gray-800 dark:text-gray-300",children:t.positionsHeld&&t.positionsHeld.length>0?t.positionsHeld.map((s,i)=>e.jsxs("li",{className:"flex items-center my-1",children:[e.jsx("svg",{className:"w-4 h-4 text-primary dark:text-primary mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),e.jsxs("span",{className:"text-xs",children:[s.position,"( ",s.dateStarted?new Date(s.dateStarted).toLocaleDateString()+" ":"Start Date N/A ","-",s.dateEnded?new Date(s.dateEnded).toLocaleDateString():" End Date N/A ",")"]})]},i)):e.jsx("li",{className:"text-xs",children:"No positions held"})})]})]},t.id))})]})})})]}):e.jsx("div",{className:"container mx-auto py-8",children:e.jsx("h2",{className:"text-xl text-center font-bold text-black dark:text-white",children:"No employment history available."})})};export{b as default};
