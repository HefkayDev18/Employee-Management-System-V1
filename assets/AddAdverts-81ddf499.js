import{r as l,a as N,u as F,j as e,b as U,_ as c,z as I}from"./index-8cf87543.js";import{B as L}from"./Breadcrumb-9ee5e05d.js";const q=()=>{const[n,h]=l.useState(""),[i,b]=l.useState(""),[o,f]=l.useState(""),[r,u]=l.useState(null),[a,m]=l.useState(""),[v,p]=l.useState(!1),x=N(),{user:d,token:y}=F(),j=t=>{t.target.files&&t.target.files.length>0&&(u(t.target.files[0]),m(""))},k=t=>{m(t.target.value),u(null)},w=async t=>{if(t.preventDefault(),!n||!i||!o||!r&&!a){c.error("All fields are required");return}const s=new FormData;s.append("Title",n),s.append("Description",i),s.append("Link",o),r?s.append("ImageFile",r):a&&s.append("ImageUrl",a);const g=d==null?void 0:d.employeeObj.employeeId;if(g)try{p(!0),await I(g,y,s),c.success("Advertisement uploaded successfully.",{duration:8e3,onClose:()=>x("/core-features/viewadverts")}),x("/core-features/viewadverts")}catch{c.error("Failed to upload advertisement")}finally{p(!1)}};return v?e.jsx(U,{}):e.jsxs(e.Fragment,{children:[e.jsx(L,{pageName:"Upload Advertisement"}),e.jsx("div",{className:"container mx-auto p-4 bg-white shadow-lg rounded-lg px-6 py-8",children:e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 dark:text-black",htmlFor:"title",children:"Title"}),e.jsx("input",{id:"title",type:"text",className:"shadow appearance-none border rounded w-3/4 py-2 px-3 text-gray-700 text-sm leading-tight focus:outline-none focus:shadow-outline",value:n,onChange:t=>h(t.target.value),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 dark:text-black",htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",className:"shadow appearance-none border rounded w-3/4 py-2 px-3 text-gray-700 text-sm leading-tight focus:outline-none focus:shadow-outline",value:i,onChange:t=>b(t.target.value),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 dark:text-black",htmlFor:"advertLink",children:"Advert Link"}),e.jsx("input",{id:"advertLink",type:"url",className:"shadow appearance-none border rounded w-5/6 py-2 px-3 text-gray-700 text-sm leading-tight focus:outline-none focus:shadow-outline",value:o,onChange:t=>f(t.target.value),required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 font-bold mb-2 dark:text-black",children:"Image Source"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"imageFile",className:"block text-sm font-medium text-gray-700 dark:text-black",children:"Upload Image File"}),e.jsx("input",{id:"imageFile",type:"file",accept:"image/*",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 text-sm leading-tight focus:outline-none focus:shadow-outline",onChange:j,disabled:!!a,required:!a})]}),e.jsx("span",{className:"text-gray-500",children:"or"}),e.jsxs("div",{className:"w-5/6",children:[e.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 dark:text-black",children:"Image URL"}),e.jsx("input",{id:"imageUrl",type:"url",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 text-sm leading-tight focus:outline-none focus:shadow-outline",value:a,onChange:k,disabled:!!r,required:!r})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 dark:text-black",children:"Choose to upload an image file or provide a direct image URL."})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("button",{className:"bg-primary hover:bg-primary text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",children:"Upload"})})]})})]})};export{q as default};
